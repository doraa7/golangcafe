その１
エラーは最初にチェックして深いネストを避けよう！
　　コンパイルしたら、同じようなコードになるんだろうけど、人間が見やすいかどうかが重要

その２
Writerとエラー、サイズなどを構造体に入れ、構造体内部で管理しよう！
　　構造体のエラーがあれば、何もせず処理を抜ける。
　　そうすることで、呼び出し側はWrite()するだけで済む。

